{% extends "templates/partials/base.html" %}

{% set previousProject = prevItem(item, 'year', true) %}
{% set nextProject = nextItem(item, 'year', true) %}

{% block title %}{% parent %} - {{ item.name }}{% endblock %}

{% block mainClass %}padded{% endblock %}

{% block content %}

  <section class="projects">
    <div class="project">

      <div class="project__info-group">
        <h5 class="project__info-name hidden">{{ item.name }}</h5>
        <dl class="project__info">
          {% for projectTypes in item.project_type %}
            {% if loop.first %}
              <dt class="project__info-title">Project type</dt>
            {% endif %}
            <dd class="project__info-value">{{ projectTypes.name }}</dd>
          {% endfor %}
        </dl>
        {% if item.location %}
          <dl class="project__info">
            <dt class="project__info-title">Location</dt>
            <dd class="project__info-value">{{ item.location }}</dd>
          </dl>
        {% endif %}
        {% if item.size %}
          <dl class="project__info">
            <dt class="project__info-title">Size</dt>
            <dd class="project__info-value">{{ item.size }}</dd>
          </dl>
        {% endif %}
        {% if item.year %}
          <dl class="project__info">
            <dt class="project__info-title">Completion date</dt>
            <dd class="project__info-value">{{ item.year }}</dd>
          </dl>
        {% endif %}
        {% if item.client %}
          <dl class="project__info">
            <dt class="project__info-title">Client</dt>
            <dd class="project__info-value">{{ item.client.name }}</dd>
          </dl>
        {% endif %}
        </dl>
      </div>

      <div class="project__description-container">
        <h1 class="project__title">{{ item.name }}</h1>
        <div class="project__description">{{ item.description|safe }}</div>
      </div>

      <div class="project__gallery">
        <div class="packery__gutter"></div>
        <div class="packery__sizer"></div>
        {% for image in item.photographs %}
          <a class="project__image project__image--{{ image.size|lower }}"
          href="{{ image.image|imageSize(1200) }}"
          data-caption="{{ image.caption }}"
          data-at-450="{{ image.image|imageSize(600) }}"
          data-at-800="{{ image.image|imageSize(800) }}"
          data-at-1366="{{ image.image|imageSize(1200) }}"
          data-at-1920="{{ image.image|imageSize(1600) }}">
            <img src="{{ image.image|imageSize(600) }}" alt="">
          </a>
        {% endfor %}
      </div>

    </div>

    <div class="project__more">
    {% if previousProject %}
      <span class="project__previous"><a href="{{ url(previousProject) }}">Previous project</a></span>
    {% endif %}
    {% if nextProject %}
      <span class="project__next"><a href="{{ url(nextProject) }}">Next project</a></span>
    {% endif %}
    </div>
  </section>

  {% include "templates/partials/lightbox.html" %}

{% endblock %}
